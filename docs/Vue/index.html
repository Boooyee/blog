<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    function red() {
      console.log('red');
    }
    function green() {
      console.log('green');
    }
    function yellow() {
      console.log('yellow');
    }

    let light = (timer, cb) => {
      return new Promise((resolve, reject) => {
        setTimeout(() => {
          cb();
          resolve
        }, timer)
      })
    }

    // var step = () => {
    //   Promise.resolve().then(() => {
    //     return light(3000, red)
    //   }).then(res => {
    //     return light(2000, green)
    //   }).then(res => {
    //     return light(1000, yellow)
    //   }).then(() => {
    //     step()
    //   })
    // }

    // const mergePromise = ajaxArray => {
    //   let data = []

    //   let sequence = Promise.resolve()

    //   ajaxArray.forEach(ele => {

    //     sequence = sequence.then(item).then(res => {
    //       data.push(res)
    //       return data
    //     })
    //   });
    //   return sequence
    // };

    var urls = ['https://www.kkkk1000.com/images/getImgData/getImgDatadata.jpg', 'https://www.kkkk1000.com/images/getImgData/gray.gif', 'https://www.kkkk1000.com/images/getImgData/Particle.gif', 'https://www.kkkk1000.com/images/getImgData/arithmetic.png', 'https://www.kkkk1000.com/images/getImgData/arithmetic2.gif', 'https://www.kkkk1000.com/images/getImgData/getImgDataError.jpg', 'https://www.kkkk1000.com/images/getImgData/arithmetic.gif', 'https://www.kkkk1000.com/images/wxQrCode2.png'];
    function loadImg(url) {
      return new Promise((resolve, reject) => {
        const img = new Image()
        img.onload = function () {
          console.log('一张图片加载完成');
          resolve();
        }
        img.onerror = reject
        img.src = url
      })
    };




  </script>
</body>

</html>