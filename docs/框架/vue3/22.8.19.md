# 命令式与声明式

# 性能与可维护性

声明式代码性能不优于命令式代码的性能

# 虚拟DOM的性能

# 运行时和编译时

- 纯运行时框架：没法分析用户提供的内容

# 框架设计核心要素
- 提升用户的开发体验

- 控制框架代码的体积
- 框架做到良好的Tree-Shaking
  - 删除dead-code
  - 副作用：如果一个函数调用会产生副作用，那么就不能将其移除。什么是副作用，简单来说，副作用就是，当调用函数的时候会对外部产生影响，例如修改了全局变量。静态分析JS很难，像rollup.js这类框架会提供一个机制，让我们明确告诉rollup这段代码不会产生副作用。`/*#__PURE__*/`
- 框架应该输出怎样的构建产物
- 特性开关:和__DEV__环境变量一样，本质上利用rollup.js的预定义常量插件实现。为了兼容Vue2，在Vue3中仍然可以使用选项API的方式编写代码。但是如果明确知道自己不会使用选项API，用户就可以使用__VUE_OPTIONS_API__开关来关闭该特性，这样在打包的时候Vue的这部分代码就不会包含在最终的资源中，从而减少资源体积。

- 错误处理
- 良好的TS类型支持
  